## **6.1 Write-Ahead Log (WAL)**

**What it is:** Log the *intent* to do something BEFORE doing it, so you can replay if you crash.

**Database analogy:**
```
WITHOUT WAL:
1. Update row in memory
2. CRASH! → Lost the update

WITH WAL:
1. Write "UPDATE users SET name='Alice' WHERE id=5" to log file
2. Update row in memory
3. CRASH! → Replay log file on restart → Update is preserved
```

**For job scheduling:**
```
Master Scheduler:
1. Decide "Job 123 goes to Shard 7"
2. Write to WAL: "ASSIGN job_id=123 shard=7 timestamp=..."
3. Send job to Shard 7's queue
4. CRASH before ACK! → On restart, read WAL, see job 123 needs Shard 7
